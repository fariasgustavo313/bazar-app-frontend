<div class="container">
  <h2>Ventas</h2>
  <form [formGroup]="ventaForm" (ngSubmit)="crearVenta()">
    <div class="form-group">
      <label for="fecha_venta">Fecha de Venta</label>
      <input type="date" id="fecha_venta" formControlName="fecha_venta" class="form-control" />
    </div>

    <div class="form-group">
      <label for="cliente">Cliente</label>
      <select id="cliente" formControlName="cliente" class="form-control">
        <option *ngFor="let cliente of clientes" [value]="cliente.id_cliente">{{ cliente.nombre }} {{ cliente.apellido }}</option>
      </select>
    </div>

    <div class="form-group">
      <label for="producto">Producto</label>
      <select id="producto" (change)="agregarProducto($event)" class="form-control">
        <option *ngFor="let producto of productos" [value]="producto.id_producto">{{ producto.nombre }} - precio: {{ producto.costo }}</option>
      </select>
    </div>

    <div class="form-group">
      <label for="total">Total</label>
      <input type="text" id="total" formControlName="total" class="form-control" readonly />
    </div>

    <button type="submit" class="btn btn-primary">Crear Venta</button>
  </form>

  <h3>Ventas Realizadas</h3>
  <ul>
    <li *ngFor="let venta of ventas">
      Fecha: {{ venta.fecha_venta | date }} - Cliente: {{ venta.cliente.nombre }} {{ venta.cliente.apellido }} - Total: {{ venta.total }}
      <ul>
        <li *ngFor="let producto of venta.listaProductos">
          {{ producto.nombre }} - precio: {{ producto.costo }}
        </li>
      </ul>
    </li>
  </ul>
</div>
